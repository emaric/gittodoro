{"version":3,"file":"controller.js","sourceRoot":"","sources":["controller.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAA;AACtE,OAAO,EAAE,iBAAiB,EAAE,MAAM,8CAA8C,CAAA;AAChF,OAAO,EAAE,mBAAmB,EAAE,MAAM,gDAAgD,CAAA;AACpF,OAAO,EAAW,mBAAmB,EAAE,MAAM,aAAa,CAAA;AAC1D,OAAO,EAAE,eAAe,EAAE,MAAM,MAAM,CAAA;AAEtC;IAeE,uBAAY,OAAgB;QAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,eAAe,CAAC,EAAE,CAAC,CAAA;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,mBAAmB,CAAC,OAAO,CAAC,CAAA;QACjD,IAAI,CAAC,UAAU,GAAG,IAAI,iBAAiB,EAAE,CAAA;IAC3C,CAAC;IAED,6BAAK,GAAL;QACE,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,YAAY,GAAG,IAAI,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;SAC1E;QACD,IAAI,CAAC,YAAY,CAAC,OAAO,YACvB,OAAO,EAAE,iBAAiB,EAC1B,KAAK,EAAE,IAAI,IAAI,EAAE,IACd,aAAa,CAAC,gBAAgB,EACjC,CAAA;IACJ,CAAC;IAED,4BAAI,GAAJ;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;SACvE;QAED,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;YACvB,OAAO,EAAE,eAAe;YACxB,GAAG,EAAE,IAAI,IAAI,EAAE;SAChB,CAAC,CAAA;IACJ,CAAC;IAxCM,8BAAgB,GAAG;QACxB,QAAQ,EAAE,EAAE;QACZ,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,EAAE;QACR,YAAY,EAAE,CAAC;KAChB,CAAA;IAoCH,oBAAC;CAAA,AA1CD,IA0CC;SA1CY,aAAa","sourcesContent":["import { SessionController } from '../../controller/SessionController'\nimport { EndSessionCommand } from '../../interactor/use-cases/EndSessionCommand'\nimport { StartSessionCommand } from '../../interactor/use-cases/StartSessionCommand'\nimport { CLIView, SessionCLIPresenter } from './presenter'\nimport { SessionInMemory } from './db'\n\nexport class SessionCLIApp {\n  static DEFAULT_DURATION = {\n    pomodoro: 25,\n    short: 5,\n    long: 10,\n    longInterval: 4,\n  }\n\n  storage: SessionInMemory\n  presenter: SessionCLIPresenter\n  controller: SessionController\n\n  private startCommand?: StartSessionCommand\n  private stopCommand?: EndSessionCommand\n\n  constructor(cliView: CLIView) {\n    this.storage = new SessionInMemory([])\n    this.presenter = new SessionCLIPresenter(cliView)\n    this.controller = new SessionController()\n  }\n\n  start(): void {\n    if (!this.startCommand) {\n      this.startCommand = new StartSessionCommand(this.storage, this.presenter)\n    }\n    this.startCommand.execute({\n      message: 'Start a session',\n      start: new Date(),\n      ...SessionCLIApp.DEFAULT_DURATION,\n    })\n  }\n\n  stop(): void {\n    if (!this.stopCommand) {\n      this.stopCommand = new EndSessionCommand(this.storage, this.presenter)\n    }\n\n    this.stopCommand.execute({\n      message: 'End a session',\n      end: new Date(),\n    })\n  }\n}\n"]}